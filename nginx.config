
http{
    server {
        include mime.type;
        default_type_application/octet-streem;
        sendfile on;
        keepalive_timeout 65;
        listen 80;

        location /static/ {
            alias /static/;
            expire 7d;
        }

        location / {
            # forward request to django application
            proxy_pass = http://django-web:8000

            # pass important header to django for proper request handling
            proxy_set_header Host $host; # ordinary host header
            proxy_set_header X-Real-Ip $remote_addr; # client real ip
            proxy_set_header X-Forward-For $proxy_add_x_forwarded_for; # Chain of ip address
            proxy_set_header X-Forward-Propto $schema;
        }
    }
}